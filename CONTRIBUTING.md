# 新たに翻訳する

* **翻訳開始時に** プルリクエストを上げる（タイトルとかで1行くらいコミットしておく）
  + それで排他制御の意味になる
  + タイトルは `[WIP]` を付けておく
  + また、進捗の可視化になったり、忙しくなって途中で止めた時に回収出来たりする
  + 完成したらWIPを外して中の人にレビューをお願いする
* 基本的には1ファイル単位で翻訳/PRする（1ファイルが大きくて負担がきつい時は応相談）
* プルリクの指針、翻訳時の指針に従う
* プルリクを上げた直後にCIが走り、HTMLが自動生成される。またプルリクの元になるブランチへコミットした時もCIが走る。詳細は、Wikiの [CI 継続的インテグレーション](https://github.com/rust-lang-ja/the-rust-programming-language-ja/wiki/CI-%E7%B6%99%E7%B6%9A%E7%9A%84%E3%82%A4%E3%83%B3%E3%83%86%E3%82%B0%E3%83%AC%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3) を参照して下さい。

# 既存の翻訳を修正する

修正してプルリクエストを投げる。このとき、過去のバージョンにバックポート出来そうな場合は過去のものも更新する。

* typoや軽い言い回しの修正などは気軽に投げると気軽にマージされる
* 訳語の修正などは最初の訳の時点で既に議論されている可能性があるためある程度チェックされる（チェックした旨とリンクがあるとレビューが速くなります）

# バージョンアップに対応する
Rustがバージョンアップされるとこちらのレポジトリに

 1. 1つ前のバージョンと最新版とのdiff(1ファイル毎)
 2. 1つ前のバージョンの翻訳のコピー

がコミットされます。1.のdiffを1ファイル消化する形で2.をアップデートしていきます。作業する時は

* diffファイル群の中から1つ翻訳するdiffを選ぶ
* 翻訳のアップデート **開始時** にプルリクエストを上げる
  * 細かい部分は [新たに翻訳する](#新たに翻訳する) を参照して下さい。
* 作業は
  1. 日本語訳のアップデート
  2. 日本語訳中にコメントアウトされている原文のアップデート
  3. 訳したdiffの削除

詳しくはこちら議論をご覧下さい https://github.com/rust-lang-ja/the-rust-programming-language-ja/issues/107

# プルリクの指針

* プルリクを上げた時点でライセンス条項に同意したものとする
  + **機械翻訳などライセンスに違反する訳をプルリクエストしてはならない**
* コミットするファイルは翻訳文書だけで、生成されたHTMLファイルはコミットしない
* その文書に含まれる用語のglossaryも翻訳する
* 新たな用語を訳した時は対訳表(TranslationTable.md)も更新する
* 翻訳を終えた後に最低でも1度全体を眺めて推敲する

# 翻訳時の指針
## 書式類

* 英文をコメントアウトして、その直下に（空行を空けずに）和訳を書く
  + ただし、先頭が`%`で始まるタイトルだけは`rustbook`の制約の関係上、原文を直下に置く
* 1パラグラフ単位で翻訳する
* ただし、rustのコードブロック（バッククォート3つで始まる別行立てのもの）中のコメントについては行頭が`# //`になるようにして英文のコメントを含むコードをコメントアウトし、直下にコメントを翻訳したものを書く（See [Issue #13](https://github.com/rust-lang-ja/the-rust-programming-language-ja/issues/13)）。
  + これは「rustの」コードブロックのみで、他のコードブロック、例えばtextなどでは`#`でコメントアウト出来ないので原文を削除して翻訳文書を書き入れる。
* 標準ライブラリのリファレンスへのリンクは相対リンクのままとして、英語版から変更しない（後日標準ライブラリのリファレンスもリポジトリに入れる）
* クォート(`'`)やダブルクォート(`"`)は鉤括弧(`「」`)にする
* 句読点には`、。`を、感嘆符は全角のエクスクラメーションマーク(`！`)を、疑問符は全角のクエスチョンマーク(`？`)を用いる。
  + これらの記号の後にスペースは入れない（See [Issue #82](https://github.com/rust-lang-ja/the-rust-programming-language-ja/issues/82#issuecomment-191691762)）。
* 括弧は全角の`（`と`）`を使用する。
  + ただし、「日本語(original English)」のように原語を示す場合に限り、半角の`(`と`)`を使用する（See [Issue #82](https://github.com/rust-lang-ja/the-rust-programming-language-ja/issues/82)）。
* どんなに1行が長くなっても日本語の文の途中で改行しない。レンダリングで余計な空白が入ってしまう。句点(`。`)、最悪でも読点(`、`)の後で改行する。
* ~~Markdownのマークアップ記法の前後は空白/空行を空けることを基本とするが、厳密でなくてもよい。~~
   空白/空行を空けなくても処理出来るかはrustbookの気分にかなりよるので統一的に空白を空ける。
* 訳注を入れる際はインラインなら（訳注: ...）のようにし、別行なら
  `> 訳注: ...`
  のように囲み形式にする

## 日本語
* 敬体を基本とする
* 用語の訳は対訳表に従う
* 用語や厳密な意味論を話してる部分以外はある程度は意訳でよい
* むしろ変に原文に忠実で、日本語として読みづらいよりも意味が伝わって日本語として分かりやすい方がいい。
  + ただし元の英文の意味と異なる場合（誤訳の場合）は修正が入る
* [継続用法の関係代名詞](http://e-grammar.info/relative/relative_23.html)やコロン(`:`)、セミコロン(`;`)など日本語と対応取りづらい文は無理に1文に詰めず、2文に分けてもよい。
  また、継続用法の関係代名詞でも限定修飾のように訳してもよい（日本語でどちらの意味にも読み取れるため。英語のテストでないので読み手の好意的解釈をあてにしてよい。）
* 英語だとit, thatなどの指示語が多用されるが日本語だと繰り返した方が自然なことが多いので無理に指示語を使わずに自然な方を使う
* 逆にyou, your, we, ourなどの英語の文法上仕方なく出てくる人称代名詞は日本語には訳さない方が自然なことが多いので無理に訳に出さない。
  特に、一般論を語る時のyouは **訳してはならない** 参考 [【雑談】"あなた"と訳さない"you" ~ einzelzelle](http://einzelzelle.blogspot.jp/2014/01/blog-post.html)
